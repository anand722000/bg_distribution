
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gita Bookstore</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .bg-gradient {
      background: linear-gradient(90deg, #007bff, #00c6ff);
      color: rgb(188, 72, 72);
    }
    .header-container {
      flex-wrap: wrap;
      border-radius: 10px;
    }
    .header-logo {
      max-height: 60px;
      width: auto;
      transition: transform 0.3s ease, filter 0.3s ease;
    }
    .header-logo:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 5px rgba(255,255,255,0.7));
    }
    .header-title {
      font-size: 2rem;
      font-weight: 700;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
      letter-spacing: 1px;
      font-family: 'Times New Roman', Times, serif;
    }
    .header-title span {
      border-bottom: 3px solid rgba(255,255,255,0.6);
      padding-bottom: 4px;
    }
    @media (max-width: 768px) {
      .header-title {
        font-size: 1.5rem;
      }
      .header-logo {
        max-height: 45px;
      }
    }
    @media (max-width: 480px) {
      .header-title {
        font-size: 1.2rem;
      }
      .header-container {
        justify-content: center;
        text-align: center;
      }
    }
    .btn:active {
      transform: scale(0.95);
      box-shadow: 0 0 0.25rem rgba(0,0,0,0.5);
    }
  </style>
</head>
<body>

<div class="header-container d-flex align-items-center justify-content-between px-4 py-3 shadow-sm bg-gradient">
  <img src="images/BBT-LOGO.png" alt="BBT Logo" class="header-logo img-fluid">
  <h1 class="header-title text-center flex-grow-1 mx-3 my-1">
    <span>Prabhupada Library </span>
  </h1>
  <img src="images/BBT-LOGO.png" alt="BBT Logo" class="header-logo img-fluid">
</div>

<div class="container my-5">
  <div class="row" id="product-list"></div>

  <div class="card mt-5">
    <div class="card-header bg-primary text-white">ðŸ›’ Cart</div>
    <div class="card-body">
      <div id="cart-items">No items in cart.</div>
      <hr>
      <h5>Total: â‚¹<span id="total">0</span></h5>
      <button class="btn btn-success mt-3" onclick="checkout()">Proceed to Checkout</button>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div id="itemToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="toast-message">
        Item added to cart!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>

<script>
  const products = [
    { name: "English BG", price: 300, image: "images/BGE1.png"},
    { name: "Hindi BG", price: 200, image: "images/BGH1.png" },
    { name: "Marathi BG", price: 180, image: "images/BGM1.png" },
    { name: "Bhagavatam Set", price: 8800, image: "images/BHGWS1.png" },
    { name: "Chaitanya Charitamrita", price: 3200, image: "images/SCC.png" },
    { name: "Krishna Book", price: 250, image: "images/KE1.png" },
    { name: "Others", price: 50, image: "images/other.jpg" }
  ];

  const cart = [];

  function renderProducts() {
    const container = document.getElementById('product-list');
    container.innerHTML = '';
    products.forEach((product, index) => {
      const col = document.createElement('div');
      col.className = 'col-lg-4 col-md-6 col-sm-12 mb-4';
      col.innerHTML = `
        <div class="card h-100 shadow-sm">
          <img src="${product.image}" class="card-img-top" alt="${product.name}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">${product.name}</h5>
            <p class="card-text">Price: â‚¹${product.price}</p>
            <label for="qty-${index}">Quantity:</label>
            <input type="number" id="qty-${index}" class="form-control mb-2" value="1" min="1">
            <button class="btn btn-success mt-auto" onclick="addToCart(${index})">Add to Cart</button>
          </div>
        </div>
      `;
      container.appendChild(col);
    });
  }

  function addToCart(index) {
    const qty = parseInt(document.getElementById(`qty-${index}`).value);
    if (qty < 1) return;
    const existing = cart.find(item => item.name === products[index].name);
    if (existing) {
      existing.quantity += qty;
    } else {
      cart.push({ ...products[index], quantity: qty });
    }
    updateCartDisplay();

    document.getElementById('toast-message').innerText = `${products[index].name} added to cart!`;
    const toast = new bootstrap.Toast(document.getElementById('itemToast'));
    toast.show();
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    updateCartDisplay();
  }

  function updateCartDisplay() {
    const cartItems = document.getElementById('cart-items');
    if (cart.length === 0) {
      cartItems.innerHTML = 'No items in cart.';
    } else {
      cartItems.innerHTML = cart.map((item, i) => `
        <div class="d-flex justify-content-between align-items-center mb-2">
          <div>${item.name} (x${item.quantity}) - â‚¹${item.price * item.quantity}</div>
          <button class="btn btn-sm btn-danger" onclick="removeFromCart(${i})">Remove</button>
        </div>
      `).join('');
    }
    const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    document.getElementById('total').innerText = total;
  }

  function checkout() {
    if (cart.length === 0) {
      alert("Your cart is empty!");
      return;
    }
    const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    localStorage.setItem('cartTotal', total);  
    localStorage.setItem("cart", JSON.stringify(cart)); 
    window.location.href = 'upi.html';
  }

  renderProducts();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
